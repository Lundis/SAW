{% extends "boards/base.html" %}

{% load i18n %}
{% load bootstrap3 %}
{% load sawp %}
{% load thumbnail %}

{% block main_content %}
    <h3>Boards</h3>
    <div class="list-group">
        {% for board in boards %}
            <li class="list-group-item">
                {% if board.photo %}
                    <img  class="img-thumbnail" src="{% thumbnail board.photo 100x100 crop=scale %}"/>
                {% endif %}
                <a href="{{ board.get_absolute_url }}">{{ board }}
                <span class="badge">
                    {{ board.get_member_count }}
                </span>
                </a>
            </li>
        {% empty %}
            <p>{% trans "No boards found!" %}</p>
        {% endfor %}
    </div>
{% endblock %}
{% block sidebar %}
    {% has_perm "boards" "CAN_EDIT_BOARDS" as can_edit_boards %}
    {% has_perm "boards" "CAN_EDIT_ROLES" as can_edit_roles %}
    {% has_perm "boards" "CAN_EDIT_BOARDTYPES" as can_edit_boardtypes %}
    {% if can_edit_boards or can_edit_roles or can_edit_boardtypes%}
        <div class="panel panel-info">
            <div class="panel-heading">
                <h2 class="panel-title">{% trans "Add" %}</h2>
            </div>
            <div class="panel-body">
                <div class="list-group">
                    {% if can_edit_boards%}
                        <a href="{% url 'boards_add_board' %}">
                            <div class="btn list-group-item">{% trans "Add new board" %}</div>
                        </a>
                    {% endif %}
                    {% if can_edit_boardtypes%}
                        <a href="{% url 'boards_add_boardtype' %}">
                            <div class="btn list-group-item">{% trans "Add new boardtype" %}</div>
                        </a>
                    {% endif %}
                    {% if can_edit_roles%}
                        <a href="{% url 'boards_add_role' %}">
                            <div class="btn list-group-item">{% trans "Add new role" %}</div>
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}